{"version":3,"file":"promise-converter-store.js","sourceRoot":"","sources":["../../../../../../src/core/decorators/promise-converters/promise-converter-store.ts"],"names":[],"mappings":";;;;AAAA,OAAO,EAAE,mBAAmB,EAAE,MAAM,wBAAwB,CAAC;AAC7D,OAAO,EAAE,oBAAoB,EAAE,MAAM,qBAAqB,CAAC;AAC3D,OAAO,EAAE,MAAM,EAAE,WAAW,EAAE,MAAM,MAAM,CAAC;;;;;;;;;;;AAO3C,MAAM;;;;;IAGJ,MAAM,CAAC,YAAY,CAAC,SAA2B;QAC7C,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;KACjC;;;;;IAED,MAAM,CAAC,eAAe,CAAC,SAAc;QACnC,EAAE,CAAC,CAAC,MAAM,CAAC,SAAS,CAAC,IAAI,WAAW,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;YAChD,MAAM,CAAC,IAAI,oBAAoB,EAAE,CAAC;SACnC;QAED,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;KAC5D;;mCAZ+C,EAAE;;;;;AAepD,qBAAqB,CAAC,YAAY,CAAC,IAAI,mBAAmB,EAAE,CAAC,CAAC;AAC9D,qBAAqB,CAAC,YAAY,CAAC,IAAI,oBAAoB,EAAE,CAAC,CAAC","sourcesContent":["import { ObservableConverter } from './observable-converter';\nimport { PromiseConverterImpl } from './promise-converter';\nimport { isNull, isUndefined } from 'util';\n\nexport interface PromiseConverter {\n  convert(promise: Promise<any>): any;\n  accept(convertTo: any): boolean;\n}\n\nexport class PromiseConverterStore {\n  private static converters: PromiseConverter[] = [];\n\n  static addConverter(converter: PromiseConverter): void {\n    this.converters.push(converter);\n  }\n\n  static getConverterFor(convertTo: any): PromiseConverter {\n    if (isNull(convertTo) || isUndefined(convertTo)) {\n      return new PromiseConverterImpl();\n    }\n\n    return this.converters.filter(c => c.accept(convertTo))[0];\n  }\n}\n\nPromiseConverterStore.addConverter(new ObservableConverter());\nPromiseConverterStore.addConverter(new PromiseConverterImpl());\n"]}